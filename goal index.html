<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="app-version" content="v1-2026-01-24-1410" />
  <title>Project 2030: æ†²æ³•å®ˆè­·è€…</title>

  <!-- React (Production) -->
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

  <!-- Babel (in-browser JSX compile) -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">

  <style>
    body {
      background-color: #1a1a1a;
      font-family: 'Noto Sans TC', sans-serif;
      color: #e0e0e0;
    }
    .pixel-font { font-family: 'Press Start 2P', cursive; }
    .retro-container { border: 4px solid #4a4a4a; box-shadow: 5px 5px 0px #000; }
    .retro-btn { transition: all 0.1s; box-shadow: 3px 3px 0px #000; }
    .retro-btn:active { transform: translate(2px, 2px); box-shadow: 1px 1px 0px #000; }
    .crt-scanline {
      background:
        linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%),
        linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
      background-size: 100% 2px, 3px 100%;
      pointer-events: none;
    }
    ::-webkit-scrollbar { width: 10px; }
    ::-webkit-scrollbar-track { background: #2d2d2d; }
    ::-webkit-scrollbar-thumb { background: #888; border: 1px solid #000; }

    /* Loading overlay */
    #boot {
      position: fixed;
      inset: 0;
      display: grid;
      place-items: center;
      background: #111;
      z-index: 9999;
    }
    .boot-card {
      width: min(92vw, 420px);
      border: 2px solid #2a2a2a;
      padding: 18px;
      border-radius: 12px;
      background: #161616;
      box-shadow: 0 20px 60px rgba(0,0,0,.45);
      text-align: center;
    }
  </style>
</head>

<body>
  <!-- Loading -->
  <div id="boot">
    <div class="boot-card">
      <div class="pixel-font text-lg text-green-400 mb-3">PROJECT 2030</div>
      <div class="text-gray-300 text-sm mb-3">è¼‰å…¥ä¸­â€¦</div>
      <div class="w-full bg-gray-800 h-2 rounded overflow-hidden">
        <div id="bootbar" class="bg-green-500 h-full" style="width: 15%"></div>
      </div>
      <div class="text-[11px] text-gray-500 mt-3">è‹¥å¡ä½ï¼Œè«‹é‡æ–°æ•´ç†æˆ–ç¨ç­‰ 5 ç§’</div>
    </div>
  </div>

  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // --- éŠæˆ²å¸¸æ•¸è¨­å®š ---
    const GOAL_BTC = 3.0;
    const TARGET_DATE = new Date("2030-12-31").getTime();
    const SAVE_KEY = "project2030_save_v2";
    const LOG_LIMIT = 200;

    // åˆå§‹ç‹€æ…‹
    const INITIAL_STATE = {
      btc: 0.0,
      usdtReserve: 0,
      eth: 34.0,
      ada: 74000.0,
      logs: [],
      lastCheckDate: null,
      consecutiveGreedWeeks: 0,
      pendingOrders: [],
      coldWalletCount: 0.0,
    };

    const App = () => {
      const [gameState, setGameState] = useState(INITIAL_STATE);
      const [inputs, setInputs] = useState({
        fngIndex: 50,
        btcPrice: 90000,
        ethBtcRatio: 0.05,
        adaBtcRatio: 0.000008,
      });
      const [activeTab, setActiveTab] = useState('dashboard');
      const [showActionReport, setShowActionReport] = useState(null);

      // --- Helper: Log ---
      const addLog = (msg, type = 'info') => {
        const timestamp = new Date().toLocaleDateString('zh-TW');
        const newLog = { id: Date.now() + Math.random(), date: timestamp, msg, type };
        setGameState(prev => ({
          ...prev,
          logs: [newLog, ...prev.logs].slice(0, LOG_LIMIT)
        }));
      };

      // --- Load/Save ---
      useEffect(() => {
        try {
          const saved = localStorage.getItem(SAVE_KEY);
          if (saved) {
            setGameState(JSON.parse(saved));
          } else {
            // ç”¨å‡½å¼å¼æ›´æ–°é¿å…åˆæ¬¡ setState race
            setGameState(prev => {
              const next = { ...prev };
              return next;
            });
            // å»¶é²å¯«å…¥ logï¼Œç¢ºä¿ç‹€æ…‹å·²å»ºç«‹
            setTimeout(() => {
              addLog("ç³»çµ±åˆå§‹åŒ–å®Œæˆã€‚åŸ·è¡Œäººï¼šé™³ç¥¥è±ªã€‚ç›®æ¨™ï¼š2030å¹´ç´¯ç© 3 BTCã€‚", "system");
            }, 0);
          }
        } catch (e) {
          console.error("è®€å–å­˜æª”å¤±æ•—", e);
        }
      }, []);

      useEffect(() => {
        try {
          localStorage.setItem(SAVE_KEY, JSON.stringify(gameState));
        } catch (e) {
          console.error("å­˜æª”å¤±æ•—", e);
        }
      }, [gameState]);

      // --- Helper ---
      const getDaysRemaining = () => {
        const now = Date.now();
        const diff = TARGET_DATE - now;
        return Math.max(0, Math.ceil(diff / (1000 * 60 * 60 * 24)));
      };

      const calculateProgress = () => {
        const p = ((gameState.btc + gameState.coldWalletCount) / GOAL_BTC) * 100;
        return Math.max(0, Math.min(100, p));
      };

      // --- Weekly Strategy ---
      const executeWeeklyStrategy = () => {
        const { fngIndex, btcPrice } = inputs;
        let action = "";
        let usdtSpent = 0;
        let usdtSaved = 0;
        let btcBought = 0;
        let reserveUsed = 0;
        let greedCounter = gameState.consecutiveGreedWeeks;

        if (!btcPrice || btcPrice <= 0) {
          alert("BTC åƒ¹æ ¼å¿…é ˆå¤§æ–¼ 0");
          return;
        }

        if (fngIndex < 20) {
          action = "æ¥µåº¦ææ…Œï¼å•Ÿå‹•å…¨è»çªæ“Šï¼";
          usdtSpent = 180;
          if (gameState.usdtReserve > 0) {
            reserveUsed = Math.floor(gameState.usdtReserve * 0.25);
            usdtSpent += reserveUsed;
          }
          greedCounter = 0;
        } else if (fngIndex >= 20 && fngIndex <= 40) {
          action = "å¸‚å ´ææ‡¼ï¼ŒåŠ ç¢¼é€²æ”»ã€‚";
          usdtSpent = 120;
          usdtSaved = 60;
          greedCounter = 0;
        } else if (fngIndex > 40 && fngIndex <= 75) {
          action = "å¸‚å ´å¹³ç©©ï¼Œä¿å®ˆæ¨é€²ã€‚";
          usdtSpent = 60;
          usdtSaved = 120;
          greedCounter = 0;
        } else {
          if (greedCounter >= 8) {
            action = "å¼·åˆ¶æ¢æ¬¾ï¼šé•·ç‰›ä¿éšªå•Ÿå‹• (å¸‚å ´éç†±å¤ªä¹…)ã€‚";
            usdtSpent = 60;
            usdtSaved = 120;
            greedCounter += 1;
          } else {
            action = "å¸‚å ´è²ªå©ªï¼Œæš«åœè²·é€²ï¼Œå›¤ç©å½ˆè—¥ã€‚";
            usdtSpent = 0;
            usdtSaved = 180;
            greedCounter += 1;
          }
        }

        if (usdtSpent > 0) btcBought = usdtSpent / btcPrice;

        // å…ˆç®—å‡º newReserveï¼Œè®“å ±å‘Šé¡¯ç¤ºæ­£ç¢ºï¼ˆé¿å…è®€åˆ°èˆŠ stateï¼‰
        const newReserve = gameState.usdtReserve + usdtSaved - reserveUsed;

        setGameState(prev => ({
          ...prev,
          btc: prev.btc + btcBought,
          usdtReserve: prev.usdtReserve + usdtSaved - reserveUsed,
          consecutiveGreedWeeks: greedCounter,
          lastCheckDate: new Date().toISOString()
        }));

        const report = {
          title: "é€±å ±åŸ·è¡Œçµæœ",
          action,
          details: [
            `æè²ªæŒ‡æ•¸: ${fngIndex}`,
            `æŠ•å…¥è³‡é‡‘: ${usdtSpent} USDT`,
            `å­˜å…¥é å‚™é‡‘: ${usdtSaved} USDT`,
            `ä½¿ç”¨é å‚™é‡‘: ${reserveUsed} USDT`,
            `è²·å…¥ BTC: ${btcBought.toFixed(8)} é¡†`,
            `ç•¶å‰é å‚™é‡‘ç¸½é¡: ${newReserve} USDT`,
          ],
        };

        addLog(`[é€±å ±] ${action} è²·å…¥ ${btcBought.toFixed(6)} BTC`, usdtSpent > 0 ? "success" : "warning");
        checkStrategyAlerts(inputs.ethBtcRatio, inputs.adaBtcRatio);
        setShowActionReport(report);
      };

      // --- Alerts ---
      const checkStrategyAlerts = (ethRatio, adaRatio) => {
        const alerts = [];

        if (ethRatio >= 0.075 && gameState.eth >= 12) {
          alerts.push("ğŸš¨ ETH åŒ¯ç‡é”æ¨™ (0.075)ï¼åŸ·è¡Œç¬¬ä¸‰éšï¼šå…¨æ•¸æ› BTCï¼");
        } else if (ethRatio >= 0.065 && gameState.eth >= 12) {
          alerts.push("âš ï¸ ETH åŒ¯ç‡é”æ¨™ (0.065)ï¼åŸ·è¡Œç¬¬äºŒéšï¼š6é¡†æ›BTCï¼Œ6é¡†æ›Uæ›å–®ã€‚");
        } else if (ethRatio >= 0.060 && gameState.eth >= 10) {
          alerts.push("âš ï¸ ETH åŒ¯ç‡é”æ¨™ (0.060)ï¼åŸ·è¡Œç¬¬ä¸€éšï¼š5é¡†æ›BTCï¼Œ5é¡†æ›Uæ›å–®ã€‚");
        }

        if (adaRatio >= 0.000013 && gameState.ada >= 34000) {
          alerts.push("ğŸš¨ ADA é€ƒç”Ÿè‰™ç¬¬äºŒéš (0.000013) é–‹å•Ÿï¼å…¨æ› BTCï¼");
        } else if (adaRatio >= 0.000010 && gameState.ada >= 40000) {
          alerts.push("âš ï¸ ADA é€ƒç”Ÿè‰™ç¬¬ä¸€éš (0.000010) é–‹å•Ÿï¼40,000 ADA æ› BTCï¼");
        }

        if (alerts.length) {
          alerts.forEach(a => addLog(a, 'alert'));
          alert(alerts.join("\n"));
        }
      };

      // --- Conversion (simplified) ---
      const executeConversion = (type, amount, target) => {
        const resultAmount = parseFloat(prompt(`æ‚¨å°‡ ${amount} ${type} è½‰æ›ç‚º ${target}ã€‚\nè«‹è¼¸å…¥å¯¦éš›ç²å¾—çš„æ•¸é‡ï¼š`));
        if (isNaN(resultAmount) || resultAmount <= 0) return;

        setGameState(prev => {
          const newState = { ...prev };
          const k = type.toLowerCase();
          newState[k] = (newState[k] || 0) - parseFloat(amount);
          if (target === 'BTC') {
            newState.btc += resultAmount;
          } else if (target === 'USDT') {
            // åƒ…åšæé†’
          }
          return newState;
        });

        if (target === 'USDT') {
          addLog(`[æ›å–®æé†’] å·²å°‡ ${amount} ${type} æ›ç‚º ${resultAmount} USDTã€‚è«‹å‹™å¿…æ›å–®åœ¨ BTC å›æ’¤è™•æ¥å›ï¼`, "warning");
        }
        addLog(`[æˆ°ç•¥è½‰æ›] ${amount} ${type} -> ${resultAmount} ${target}`, "success");
      };

      // --- Cold Wallet ---
      const moveToColdWallet = () => {
        if (gameState.btc < 0.05) {
          alert("ç´¯ç©æœªé” 0.05 BTCï¼Œè«‹ç¯€çœæ‰‹çºŒè²»ï¼");
          return;
        }
        const amount = gameState.btc;
        setGameState(prev => ({
          ...prev,
          btc: 0,
          coldWalletCount: prev.coldWalletCount + amount
        }));
        addLog(`[éµè¡€ç´€å¾‹] æé ˜ ${amount.toFixed(6)} BTC è‡³å†·éŒ¢åŒ…ã€‚è³‡ç”¢å®‰å…¨ç¢ºèªã€‚`, "secure");
      };

      // --- UI Components ---
      const StatusBar = () => (
        <div className="bg-gray-800 p-4 mb-4 retro-container flex flex-wrap justify-between items-center">
          <div className="flex items-center space-x-4">
            <div className="text-yellow-500 font-bold pixel-font text-xl">
              LV.{Math.floor((gameState.btc + gameState.coldWalletCount) * 10)} å®ˆè­·è€…
            </div>
            <div className="text-xs text-gray-400">
              è·é›¢ 2030 é‚„å‰© {getDaysRemaining()} å¤©
            </div>
          </div>
          <div className="w-full md:w-1/2 mt-2 md:mt-0">
            <div className="flex justify-between text-xs mb-1">
              <span>ç›®æ¨™é€²åº¦: 3.0 BTC</span>
              <span>{(gameState.btc + gameState.coldWalletCount).toFixed(4)} / 3.0</span>
            </div>
            <div className="w-full bg-gray-700 h-4 rounded-full overflow-hidden border border-gray-600">
              <div
                className="bg-gradient-to-r from-green-500 to-emerald-400 h-full transition-all duration-500"
                style={{ width: `${calculateProgress()}%` }}
              ></div>
            </div>
          </div>
        </div>
      );

      const Inventory = () => (
        <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
          <div className="bg-gray-900 p-4 border-2 border-green-700 rounded shadow-[4px_4px_0_#064e3b]">
            <h3 className="text-green-500 text-xs pixel-font mb-2">HOT WALLET (BTC)</h3>
            <p className="text-2xl font-bold">{gameState.btc.toFixed(6)}</p>
            <button onClick={moveToColdWallet} className="mt-2 text-xs bg-blue-900 hover:bg-blue-800 text-white px-2 py-1 w-full retro-btn">
              æé ˜è‡³å†·éŒ¢åŒ…
            </button>
          </div>
          <div className="bg-gray-900 p-4 border-2 border-blue-700 rounded shadow-[4px_4px_0_#1e3a8a]">
            <h3 className="text-blue-400 text-xs pixel-font mb-2">COLD STORAGE</h3>
            <p className="text-2xl font-bold">{gameState.coldWalletCount.toFixed(6)}</p>
            <p className="text-xs text-gray-500 mt-1">çµ•å°é˜²ç¦¦é ˜åŸŸ</p>
          </div>
          <div className="bg-gray-900 p-4 border-2 border-yellow-700 rounded shadow-[4px_4px_0_#713f12]">
            <h3 className="text-yellow-500 text-xs pixel-font mb-2">RESERVE (USDT)</h3>
            <p className="text-2xl font-bold">${gameState.usdtReserve.toLocaleString()}</p>
            <p className="text-xs text-gray-500 mt-1">é»‘å¤©éµå½ˆè—¥åº«</p>
          </div>
          <div className="bg-gray-900 p-4 border-2 border-purple-700 rounded shadow-[4px_4px_0_#581c87]">
            <h3 className="text-purple-500 text-xs pixel-font mb-2">ALTCOINS</h3>
            <div className="text-sm">
              <p>ETH: {gameState.eth.toFixed(2)}</p>
              <p>ADA: {gameState.ada.toLocaleString()}</p>
            </div>
          </div>
        </div>
      );

      const CommandPost = () => (
        <div className="bg-gray-800 p-6 retro-container mb-6 relative overflow-hidden">
          <div className="absolute top-0 left-0 w-full h-1 bg-green-500 opacity-50"></div>
          <h2 className="pixel-font text-green-400 mb-6 flex items-center">
            <span className="mr-2">âš¡</span> æˆ°è¡“æŒ‡æ®ä¸­å¿ƒ (æ¯é€±åŸ·è¡Œ)
          </h2>

          <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label className="block text-gray-400 text-sm mb-2">ç•¶å‰ BTC åƒ¹æ ¼ (USDT)</label>
              <input
                type="number"
                value={inputs.btcPrice}
                onChange={(e) => setInputs({ ...inputs, btcPrice: parseFloat(e.target.value) })}
                className="w-full bg-gray-900 border border-gray-600 p-3 text-white focus:border-green-500 focus:outline-none pixel-font"
              />
            </div>
            <div>
              <label className="block text-gray-400 text-sm mb-2">ææ‡¼èˆ‡è²ªå©ªæŒ‡æ•¸ (0-100)</label>
              <div className="flex items-center">
                <input
                  type="range" min="0" max="100"
                  value={inputs.fngIndex}
                  onChange={(e) => setInputs({ ...inputs, fngIndex: parseInt(e.target.value) })}
                  className="w-full mr-4 accent-green-500 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer"
                />
                <span className={`pixel-font text-xl w-12 ${inputs.fngIndex < 20 ? 'text-red-500' : inputs.fngIndex > 75 ? 'text-green-500' : 'text-white'}`}>
                  {inputs.fngIndex}
                </span>
              </div>
              <p className="text-xs mt-1 text-gray-500">
                {inputs.fngIndex < 20 ? "æ¥µåº¦ææ…Œ (æº–å‚™å…¨è²·)" :
                 inputs.fngIndex < 40 ? "ææ‡¼ (åŠ ç¢¼)" :
                 inputs.fngIndex < 75 ? "ä¸­æ€§ (ä¿å®ˆ)" : "è²ªå©ª (å­˜éŒ¢)"}
              </p>
            </div>
          </div>

          <div className="mt-6 border-t border-gray-700 pt-4">
            <div className="flex justify-between items-center mb-2">
              <span className="text-sm text-gray-400">ç›£æ§æ•¸æ“š (é¸å¡«)</span>
            </div>
            <div className="grid grid-cols-2 gap-4">
              <div>
                <label className="text-xs text-gray-500">ETH/BTC åŒ¯ç‡</label>
                <input
                  type="number" step="0.001"
                  value={inputs.ethBtcRatio}
                  onChange={(e) => setInputs({ ...inputs, ethBtcRatio: parseFloat(e.target.value) })}
                  className="w-full bg-gray-900 border border-gray-700 p-2 text-sm"
                />
              </div>
              <div>
                <label className="text-xs text-gray-500">ADA/BTC åŒ¯ç‡</label>
                <input
                  type="number" step="0.000001"
                  value={inputs.adaBtcRatio}
                  onChange={(e) => setInputs({ ...inputs, adaBtcRatio: parseFloat(e.target.value) })}
                  className="w-full bg-gray-900 border border-gray-700 p-2 text-sm"
                />
              </div>
            </div>
          </div>

          <button
            onClick={executeWeeklyStrategy}
            className="mt-6 w-full bg-green-700 hover:bg-green-600 text-white font-bold py-4 pixel-font retro-btn border-b-4 border-green-900 active:border-b-0 active:mt-7"
          >
            åŸ·è¡Œæ¯é€±æ±ºç­– (EXECUTE)
          </button>
        </div>
      );

      const LogTerminal = () => (
        <div className="bg-black border border-gray-700 p-4 h-64 overflow-y-auto font-mono text-sm relative shadow-inner">
          <div className="sticky top-0 bg-black/90 pb-2 border-b border-gray-800 mb-2 text-gray-500 text-xs">
            &gt; SYSTEM LOGS
          </div>
          {gameState.logs.length === 0 && <span className="text-gray-600">ç­‰å¾…æŒ‡ä»¤...</span>}
          {gameState.logs.map((log) => (
            <div key={log.id} className="mb-2 border-b border-gray-900 pb-1">
              <span className="text-gray-500">[{log.date}]</span>
              <span className={`ml-2 ${
                log.type === 'alert' ? 'text-red-400 font-bold' :
                log.type === 'success' ? 'text-green-400' :
                log.type === 'warning' ? 'text-yellow-400' :
                log.type === 'secure' ? 'text-blue-400' : 'text-gray-300'
              }`}>
                {log.msg}
              </span>
            </div>
          ))}
        </div>
      );

      const StrategyPanel = () => (
        <div className="bg-gray-800 p-6 retro-container mb-6">
          <h2 className="pixel-font text-purple-400 mb-4">âš”ï¸ æˆ°ç•¥è½‰æ›æ¨¡çµ„</h2>

          <div className="grid gap-4">
            <div className="bg-gray-900 p-4 rounded border-l-4 border-purple-600">
              <h3 className="font-bold text-white mb-2">ETH ç­–ç•¥ (æŒæœ‰: {gameState.eth})</h3>
              <div className="flex gap-2 text-xs flex-wrap">
                <button onClick={() => executeConversion('ETH', 5, 'BTC')} className="bg-gray-700 hover:bg-gray-600 px-3 py-2 rounded">
                  ä¸€éšï¼š5 ETH -&gt; BTC
                </button>
                <button onClick={() => executeConversion('ETH', 5, 'USDT')} className="bg-gray-700 hover:bg-gray-600 px-3 py-2 rounded">
                  ä¸€éšï¼š5 ETH -&gt; USDT
                </button>
              </div>
            </div>

            <div className="bg-gray-900 p-4 rounded border-l-4 border-blue-600">
              <h3 className="font-bold text-white mb-2">ADA ç­–ç•¥ (æŒæœ‰: {gameState.ada})</h3>
              <div className="flex gap-2 text-xs flex-wrap">
                <button onClick={() => executeConversion('ADA', 40000, 'BTC')} className="bg-gray-700 hover:bg-gray-600 px-3 py-2 rounded">
                  ä¸€éšï¼š4è¬ ADA -&gt; BTC
                </button>
                <button onClick={() => executeConversion('ADA', 34000, 'BTC')} className="bg-gray-700 hover:bg-gray-600 px-3 py-2 rounded">
                  äºŒéšï¼š3.4è¬ ADA -&gt; BTC
                </button>
              </div>
            </div>
          </div>
        </div>
      );

      const ReportModal = () => {
        if (!showActionReport) return null;
        return (
          <div className="fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4">
            <div className="bg-gray-800 border-2 border-green-500 max-w-md w-full p-6 relative shadow-[0_0_20px_rgba(16,185,129,0.5)]">
              <h3 className="pixel-font text-xl text-center text-green-400 mb-4">{showActionReport.title}</h3>
              <div className="text-center text-2xl font-bold text-white mb-6">
                {showActionReport.action}
              </div>
              <div className="space-y-2 text-gray-300 text-sm mb-6 bg-gray-900 p-4 rounded">
                {showActionReport.details.map((detail, idx) => (
                  <div key={idx} className="border-b border-gray-800 last:border-0 pb-1">{detail}</div>
                ))}
              </div>
              <button
                onClick={() => setShowActionReport(null)}
                className="w-full bg-green-700 hover:bg-green-600 text-white py-3 font-bold retro-btn"
              >
                ç¢ºèª (CONFIRM)
              </button>
            </div>
          </div>
        );
      };

      return (
        <div className="min-h-screen pb-10 crt-scanline">
          <div className="max-w-4xl mx-auto p-4">
            <header className="mb-6 text-center border-b border-gray-700 pb-4">
              <h1 className="text-3xl md:text-4xl text-white pixel-font mb-2">PROJECT 2030</h1>
              <p className="text-gray-500 text-xs tracking-widest">çµ‚æ¥µé˜²ç¦¦ï¼åŸ·è¡Œæ†²æ³•</p>
            </header>

            <StatusBar />
            <Inventory />

            <div className="flex mb-4 border-b border-gray-700">
              <button
                className={`px-4 py-2 pixel-font text-xs ${activeTab === 'dashboard' ? 'text-green-400 border-b-2 border-green-400' : 'text-gray-500'}`}
                onClick={() => setActiveTab('dashboard')}
              >
                æ¯é€±ä»»å‹™
              </button>
              <button
                className={`px-4 py-2 pixel-font text-xs ${activeTab === 'strategy' ? 'text-purple-400 border-b-2 border-purple-400' : 'text-gray-500'}`}
                onClick={() => setActiveTab('strategy')}
              >
                æˆ°ç•¥è½‰æ›
              </button>
              <button
                className={`px-4 py-2 pixel-font text-xs ${activeTab === 'constitution' ? 'text-yellow-400 border-b-2 border-yellow-400' : 'text-gray-500'}`}
                onClick={() => setActiveTab('constitution')}
              >
                æ†²æ³• (SOP)
              </button>
            </div>

            {activeTab === 'dashboard' && <CommandPost />}
            {activeTab === 'strategy' && <StrategyPanel />}
            {activeTab === 'constitution' && (
              <div className="bg-gray-800 p-6 retro-container text-sm leading-relaxed text-gray-300">
                <h3 className="font-bold text-white mb-2">ç¬¬å››ç« ï¼šéµè¡€ç´€å¾‹</h3>
                <ul className="list-disc pl-5 space-y-2">
                  <li>ç´¯ç©é” 0.05 BTC â” ç«‹å³æé ˜è‡³å†·éŒ¢åŒ…ã€‚</li>
                  <li>ç©©å®šå¹£è¶…éç¸½è³‡ç”¢ 30% éœ€æ› USDC å­˜å†·éŒ¢åŒ…ã€‚</li>
                  <li>è­¦å ±æœªéŸ¿ï¼Œå°ˆå¿ƒå·¥ä½œï¼Œé™ªä¼´å®¶äººã€‚</li>
                </ul>
                <h3 className="font-bold text-white mt-4 mb-2">è‡ªæˆ‘å¥‘ç´„</h3>
                <p className="italic text-gray-400 border-l-2 border-gray-600 pl-4">
                  "æˆ‘ä¸é æ¸¬å¸‚å ´ï¼Œæˆ‘åªåŸ·è¡Œè¦å‰‡ã€‚åªè¦æ´»è‘—ï¼Œæ™‚é–“æœƒå¸¶æˆ‘åˆ°çµ‚é»ã€‚"
                </p>
              </div>
            )}

            <LogTerminal />
            <ReportModal />
          </div>
        </div>
      );
    };

    // Mount
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);

    // Hide boot overlay (simple progress)
    const bar = document.getElementById("bootbar");
    let w = 15;
    const t = setInterval(() => {
      w = Math.min(95, w + 10);
      bar.style.width = w + "%";
    }, 120);

    window.addEventListener("load", () => {
      clearInterval(t);
      bar.style.width = "100%";
      setTimeout(() => {
        const boot = document.getElementById("boot");
        if (boot) boot.remove();
      }, 200);
    });
  </script>
</body>
</html>
